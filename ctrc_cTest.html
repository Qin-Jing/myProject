<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>这里是测试复制粘贴</title>
</head>
<body>
	<div class="text-hook">
		<h1>
			别说公开发言，朋友间过于慎言，迹近官腔的交谈，即由虚伪主导，语言无味之余并不能达到有效率的交流。所以，退一万步想，有时宁愿多些听到老友的失言（或往往是真言）。我永世不能忘记的是我一生的知己在酒醉后把我大骂一场，激动处更用球鞋掷过来。礼貌上他是失礼，但我当场哭将起来，知道他对我的关心与痛心肉紧若此，胜过平常饭局上评谈时事娱圈是非之交友正确。从此我每吃一颗安眠药都想起他酒后失仪对我的贡献。可见，失掉大言，得回真相，于人情与世局都有益无害。 ——林夕 《人情·世故》
		</h1>
	</div>
	<input id="input"/>
	<input id="input1"/>
	<!-- js -->
	<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	<script type="text/javascript">
 
		//  监听 ctrl + c事件
		$(document).unbind('keydown').bind('keydown', function(e){ 
		    if(e.ctrlKey && e.keyCode  == 67) { 
		        doSomething();
		        // 返回false, 防止重复触发copy事件
		        return false;
		    }
		})
		
		// 鼠标右键的复制事件
		$(document).unbind('copy').bind('copy', function(e) {
			setTime();
    		console.log('右键复制 监听成功');
		});
 
		function doSomething(){
			setTime();
		    console.log('ctrl + c 监听成功');
		}
 
		function setTime(){
			if(window.localStorage) {
				let time = localStorage.getItem('time');
				time ? time ++ : time = 1;
				localStorage.setItem('time', time);
			}
		}
		// 简单的双向绑定demo
		const data = {};
		const input = document.getElementById('input');
		Object.defineProperty(data, 'text', {
		  set(value) {
			input.value = value;
			this.value = value;
		  }
		});
		input.onchange = function(e) {
		  data.text = e.target.value;
		  //debugger
		  console.log(data)
		  document.getElementById('input1').value = data.value;
		}
		var a = 1;
		setInterval(function(){
			data.text = a + 1;
			a++;
			document.getElementById('input1').value = data.value;
		},1000);
	</script>
</body>
</html>